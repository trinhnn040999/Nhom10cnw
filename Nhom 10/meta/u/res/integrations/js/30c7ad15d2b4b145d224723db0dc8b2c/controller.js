function getDirectoryTypeFromPath(t){var e,n="";return t?(e=t,n=1===searchFilters.filter((function(t){return t.search===unescape(e)})).length?"integrationsDirectoryCategoryScreen":"integrationsDirectorySearchResultsScreen"):n="integrationsDirectoryScreen",n}function getDirectoryTypeFromLocation(t){return getDirectoryTypeFromPath(t.url().split("/")[1])}function openDelayed(t,e){e||(e=500),setTimeout((function(){window.location.href=t}),e)}function debounce(t,e,n){var r;return function(){var o=this,a=arguments,i=function(){r=null,n||t.apply(o,a)},c=n&&!r;clearTimeout(r),r=setTimeout(i,e),c&&t.apply(o,a)}}app=angular.module("trelloIntegrations",["ngResource","firebase","ReviewBarDirective"]),app.config(["$interpolateProvider",function(t){t.startSymbol("[["),t.endSymbol("]]")}]),app.controller("IntegrationsCtrl",["$scope","$interval","$location","$resource","$filter",function(t,e,n,r,o){var a,i;for(t.integrationData=window.integrationsList,t.startingLimit=21,t.displayLimit=t.startingLimit,t.searchFilters=searchFilters,a=t.integrationData.length-1;a>=0;a--){(i=t.integrationData[a]).randomOrder=100*Math.random(),i.icons=[],i.tags||(i.tags=[]),t.icons=["addons","chrome","connectors","firefox","safari","zap"];for(var c=i.tags.length-1;c>=0;c--)tag=i.tags[c],t.icons.indexOf(tag)>=0&&i.icons.push(tag)}for(var s in wordMath={},t.integrationData)if((i=t.integrationData[s]).tags)for(a=i.tags.length-1;a>=0;a--)wordMath[i.tags[a]]?wordMath[i.tags[a]]+=1:wordMath[i.tags[a]]=1;for(var d in t.words=[],wordMath){t.words.push({text:d,weight:wordMath[d],handlers:{click:function(){var e=d;return function(){t.$apply((function(){t.search=e}))}}()}})}t.sort="randomOrder";var g=0;e((function(){var e=g;t.placeholder=scrollingPlaceholders[e%scrollingPlaceholders.length],g+=1}),2500),t.init=function(){t.trackScreenEvent(),$(window).on("hashchange",debounce((function(){t.trackScreenEvent()}),500))},t.updateURL=function(){n.url(t.search)},t.search=decodeURIComponent(n.url().substr(1)),t.clearSearch=function(){t.setSearch("")},t.sortClickHandler=function(e){window.gas.sendClickedLinkEvent("sortLink",getDirectoryTypeFromLocation(n),{sort:e}),t.sort=e},t.filterClickHandler=function(e){window.gas.sendClickedLinkEvent("filterLink",getDirectoryTypeFromLocation(n),{query:e}),t.setSearch(e)},t.searchInputClickHandler=function(t){window.gas.sendUIEvent({action:"clicked",actionSubject:"input",actionSubjectId:t,source:getDirectoryTypeFromLocation(n)})},t.integrationCardClickHandler=function(t,e){window.gas.sendUIEvent({action:"clicked",actionSubject:"card",actionSubjectId:"integrationCard",source:getDirectoryTypeFromLocation(n),attributes:{name:t}}),openDelayed(e)},t.setSearch=function(e){t.search=e,t.updateURL()},t.visibleItemCount=function(){return o("filter")(t.integrationData,t.search).length},t.getIconPath=function(t){return{addons:"https://d2k1ftgv7pobq7.cloudfront.net/meta/u/res/integrations/icons/37b172426b4517041f90a4a943142ca3/addons.png",chrome:"https://d2k1ftgv7pobq7.cloudfront.net/meta/u/res/integrations/icons/58378c8081a36f65d2030b71aee16bea/chrome.png",connectors:"https://d2k1ftgv7pobq7.cloudfront.net/meta/u/res/integrations/icons/1bcc8d92bf045164d4738bf4038d6644/connectors.png",firefox:"https://d2k1ftgv7pobq7.cloudfront.net/meta/u/res/integrations/icons/d9e165dd2d9a9b5252093c052a750c1b/firefox.png",safari:"https://d2k1ftgv7pobq7.cloudfront.net/meta/u/res/integrations/icons/28dc76b29fb4fa42223a4f6bd9f9511d/safari.png",zap:"https://d2k1ftgv7pobq7.cloudfront.net/meta/u/res/integrations/icons/0a21aa6cddac63b6b56e999ad0d55445/zap.png"}[t]},t.trackScreenEvent=function(){var e=n.url().split("/")[1],r=getDirectoryTypeFromPath(e),o={sort:"name"===t.sort?"alpha":t.sort};"integrationsDirectoryScreen"===r?window.gas.sendScreenEvent({name:"integrationsDirectoryScreen",attributes:o}):"integrationsDirectoryCategoryScreen"===r?(o.category=e,window.gas.sendScreenEvent({name:"integrationsDirectoryCategoryScreen",attributes:o})):"integrationsDirectorySearchResultsScreen"===r&&window.gas.sendScreenEvent({name:"integrationsDirectorySearchResultsScreen",attributes:o})}}]);